webpackJsonp([1],[,,,,,,,,,,,function(t,e,a){"use strict";function n(t){a(41)}var s=a(42),i=a(43),r=a(1),o=n,c=r(s.a,i.a,!1,o,null,null);e.a=c.exports},,,,,,,,,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(2),s=a(24),i=a(26),r=a.n(i),o=a(27),c=a(32),u=a(53);n.a.use(r.a),n.a.use(s.a),n.a.config.productionTip=!1,new n.a({el:"#app",http:{root:"/"},store:u.a,router:c.a,template:"<App/>",components:{App:o.a}})},,,,function(t,e){},,function(t,e,a){"use strict";function n(t){a(28)}var s=a(30),i=a(31),r=a(1),o=n,c=r(s.a,i.a,!1,o,null,null);e.a=c.exports},function(t,e){},,function(t,e,a){"use strict";e.a={name:"app",methods:{onClickConfigure:function(){}},components:{}}},function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-side-icon"),t._v(" "),a("v-toolbar-title",[t._v("My News Feed")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{to:"/sources"},on:{change:t.onClickConfigure}},[t._v("Configure")])],1),t._v(" "),a("v-content",[a("router-view")],1)],1)],1)},s=[],i={render:n,staticRenderFns:s};e.a=i},function(t,e,a){"use strict";var n=a(2),s=a(33),i=a(34),r=a(49);n.a.use(s.a),e.a=new s.a({routes:[{path:"/",name:"NewsFeed",component:i.a},{path:"/sources",name:"SourcesList",component:r.a}]})},,function(t,e,a){"use strict";function n(t){a(35)}var s=a(36),i=a(48),r=a(1),o=n,c=r(s.a,i.a,!1,o,null,null);e.a=c.exports},function(t,e){},function(t,e,a){"use strict";var n=a(37),s=(a(11),a(44));e.a={name:"NewsFeed",data:function(){return{dialog:!1,category:[]}},computed:{items:function(){return this.$store.state.feeds}},methods:{viewItem:function(t){var e=t.target.getElementsByTagName("a")[0];e&&(e.setAttribute("href",this.item.url),e.setAttribute("target","_blank"),e.click())},onClickCategory:function(t){var e="";e+="?"+t[0],t.slice(1).forEach(function(t,a){e+="&"+t}),console.info("click category",e,t)}},components:{NewsItem:s.a,CategoryFilter:n.a},created:function(){this.$store.dispatch("fetchNews")}}},function(t,e,a){"use strict";function n(t){a(38)}var s=a(39),i=a(40),r=a(1),o=n,c=r(s.a,i.a,!1,o,null,null);e.a=c.exports},function(t,e){},function(t,e,a){"use strict";e.a={name:"CategoryFilter",data:function(){return{categories:[],allCategories:["Technology","Business","Finance","Politics","Culture","Art"]}},methods:{filter:function(t){this.$store.dispatch("fetchNews",t)},handleChange:function(t){var e=this,a=t.map(function(t){return e.allCategories[t]}).join(",");this.filter({where:{category:a}})}}}},function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-select",{attrs:{label:"Categories",items:t.allCategories,chips:"",tags:""},on:{change:t.handleChange},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",{key:JSON.stringify(e.item),staticClass:"chip--select-multi",attrs:{selected:e.selected,disabled:e.disabled},on:{input:function(t){e.parent.selectItem(e.item)}}},[a("v-avatar",{staticClass:"accent"},[t._v(t._s(e.item.slice(0,1).toUpperCase()))]),t._v("\n      "+t._s(e.item)+"\n    ")],1)]}}]),model:{value:t.categories,callback:function(e){t.categories=e},expression:"categories"}})},s=[],i={render:n,staticRenderFns:s};e.a=i},function(t,e){},function(t,e,a){"use strict";e.a={name:"AddSourceForm",data:function(){return{valid:!0,formData:{name:"ycombinator",url:"https://news.ycombinator.com"},nameRules:[function(t){return!!t||"Name is required"},function(t){return t&&t.length<=25||"Name must be less than 25 characters"}],urlRules:[function(t){return!!t||"Url is required"},function(t){return/^(http|https):[\/]{2}([\.-]?\w+)*(\.\w{2,3}).*$/.test(t)||"Url must be valid"}],allCategories:["Technology","Business","Finance","Politics","Culture","Art"]}},methods:{submit:function(t){t&&this.$refs.form.validate()&&this.$store.dispatch("addNewsSource",this.formData)},clearForm:function(){this.formData={}}}}},function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:"Name",rules:t.nameRules,counter:25,required:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}}),t._v(" "),a("v-text-field",{attrs:{label:"Url",rules:t.urlRules,required:""},model:{value:t.formData.url,callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}}),t._v(" "),a("v-select",{attrs:{label:"Categories",items:t.allCategories,chips:"",tags:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",{key:JSON.stringify(e.item),staticClass:"chip--select-multi",attrs:{selected:e.selected,disabled:e.disabled},on:{input:function(t){e.parent.selectItem(e.item)}}},[a("v-avatar",{staticClass:"accent"},[t._v(t._s(e.item.slice(0,1).toUpperCase()))]),t._v("\n        "+t._s(e.item)+"\n      ")],1)]}}]),model:{value:t.formData.categories,callback:function(e){t.$set(t.formData,"categories",e)},expression:"formData.categories"}})],1)},s=[],i={render:n,staticRenderFns:s};e.a=i},function(t,e,a){"use strict";function n(t){a(45)}var s=a(46),i=a(47),r=a(1),o=n,c=r(s.a,i.a,!1,o,"data-v-b3c07298",null);e.a=c.exports},function(t,e){},function(t,e,a){"use strict";e.a={name:"NewsItem",props:["item"],methods:{viewItem:function(t){var e=t.target.getElementsByTagName("a")[0];console.info(e,t),e&&(e.setAttribute("href",this.item.url),e.setAttribute("target","_blank"),e.click())}}}},function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",{key:t.item.header,staticClass:"list__tile list__tile--link",attrs:{target:"_blank",href:t.item.url}},[a("li",[a("div",{staticClass:"list__tile__title",domProps:{innerHTML:t._s(t.item.header.slice(0,100)+"...")}}),t._v(" "),a("span",{staticClass:"site",domProps:{innerHTML:t._s(t.item.site)}})])]),t._v(" "),a("hr",{staticClass:"divider"})])},s=[],i={render:n,staticRenderFns:s};e.a=i},function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"min-height":"0"},attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":""}},[a("v-card",[a("v-list",{attrs:{"three-lines":""}},[t._l(t.items,function(e){return[e.header?a("news-item",{key:e.header,attrs:{item:e}}):t._e()]})],2)],1)],1)],1)],1)},s=[],i={render:n,staticRenderFns:s};e.a=i},function(t,e,a){"use strict";function n(t){a(50)}var s=a(51),i=a(52),r=a(1),o=n,c=r(s.a,i.a,!1,o,null,null);e.a=c.exports},function(t,e){},function(t,e,a){"use strict";var n=a(11);e.a={name:"SourcesList",components:{AddSourceForm:n.a},data:function(){return{dialog:!1,category:[]}},computed:{items:function(){return this.$store.state.sources}},methods:{viewItem:function(t){},submitForm:function(t){this.$refs.addSourceForm.$refs.form.validate()&&(this.$refs.addSourceForm.submit(t),this.dialog=!1,this.$refs.addSourceForm.clearForm(t))}},created:function(){this.$store.dispatch("fetchSources")}}},function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"min-height":"0"},attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm8:"","offset-sm2":""}},[a("v-toolbar",[a("v-btn",{attrs:{to:"/",primary:""}},[t._v("Back")]),t._v(" "),a("v-btn",{attrs:{absolute:"",dark:"",fab:"",right:"",color:"pink"},nativeOn:{click:function(e){t.dialog=!0}}},[a("v-icon",[t._v("add")])],1)],1),t._v(" "),a("v-card",[a("v-list",[t._l(t.items,function(e){return[a("div",{key:e.name},[a("hr",{staticClass:"divider"}),t._v(" "),a("a",{staticClass:"list__tile list__tile--link",attrs:{href:"#"}},[a("li",[a("div",{staticClass:"list__tile__title",domProps:{innerHTML:t._s(e.url)}}),t._v(" "),a("span",{staticClass:"name",domProps:{innerHTML:t._s(e.name)}})])])])]})],2)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"",dark:"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v("Add News source")]),t._v(" "),a("v-card-text",[a("add-source-form",{ref:"addSourceForm"})],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.submitForm(e)}}},[t._v("Save")])],1)],1)],1)],1)],1)],1)},s=[],i={render:n,staticRenderFns:s};e.a=i},function(t,e,a){"use strict";var n=a(54),s=a.n(n),i=a(56),r=a.n(i),o=a(2),c=a(85),u=a(86),l=a.n(u);o.a.use(c.a);var f=new c.a.Store({state:{feeds:[],sources:[]},mutations:{addFeed:function(t,e){var a=r()({},e);t.feeds.push(a)},addFeedSource:function(t,e){var a=r()({},e);t.sources.push(a)}},actions:{fetchNews:function(t,e){var a=t.commit,n="/api/news";e&&(n+="?filters="+s()(e)),l.a.get(n).then(function(t){200==t.status&&(t.data||[]).forEach(function(t){a("addFeed",t)})},function(t){})},fetchSources:function(t){var e=t.commit;l.a.get("/api/sources").then(function(t){200==t.status&&(t.data||[]).forEach(function(t){e("addFeedSource",t)})},function(t){})},setConfig:function(t,e){t.commit},addNewsSource:function(t,e){t.commit;l.a.post("/api/sources",r()({},e)).then(function(t){})}},getters:{getConfig:function(t){return JSON.parse(localStorage.getItem("feeds-config"))}}});e.a=f}],[21]);
//# sourceMappingURL=app.5bb980d9e542337e506b.js.map